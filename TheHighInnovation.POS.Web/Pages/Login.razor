@page "/login"
@using Blazored.LocalStorage
@using TheHighInnovation.POS.Web.Services.Base
@using TheHighInnovation.POS.Web.Services.Loader
@inject LoaderService PreloadService
@inject BaseService BaseService
@inject NavigationManager NavigationManager
@inject IJSRuntime _jsRuntime
@inject HttpClient Http
@inject ILocalStorageService LocalStorage


<div class="logincard card inputbox">
    <div class="card-head lh-1">
        <div class="welcome">
            <span class="blue">WEL</span><span class="yellow">CO</span><span class="green">ME</span>
        </div>
        <p class="slogan">We are glad to see you back with us.</p>
    </div>
    <form @onsubmit="@HandleValidSubmit" >
        <AntiforgeryToken />
        <div class="card-body">
            <div class="d-flex">
                <button class="iconbox1"><i class="fa-solid fa-user"></i></button>
                <InputText type="text" @bind-Value="_loginRequestDto.EmailAddress" id="email" placeholder="Enter your user name" class="inputbox" required="required"/>
            </div>
            <div class="d-flex">
                <button class="iconbox2"><i class="fa fa-lock mx-3" aria-hidden="true"></i></button>
                <InputText type="password" @bind-Value="_loginRequestDto.Password" id="password" placeholder="Enter your password" class="inputbox" required="required" />
            </div>

            <Button @onclick="async () => await HandleValidSubmit()"
                Style="background-color:var(--our--commonblue-color); color:#fff;width:100%;margin-top:2vh;">
                Login</Button>

        </div>
        <div class="card-footer">
            @if (!string.IsNullOrEmpty(_message))
            {
                <span class="Errormessage"><p>@_message</p></span>
            }
        </div>
    </form>
    <BlazoredSpinner />

</div>
